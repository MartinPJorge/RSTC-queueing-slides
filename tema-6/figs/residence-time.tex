%%% \tikzset{node distance=1cm, % Minimum distance between two nodes. Change if necessary.
%%%          every state/.style={ % Sets the properties for each state
%%%            semithick,draw=HotPink3!50,
%%%            fill=HotPink3!20},
%%%          initial text={},     % No label on start arrow
%%%          double distance=4pt, % Adjust appearance of accept states
%%%          every edge/.style={  % Sets the properties for each transition
%%%          draw, ->,>=stealth',     % Makes edges directed with bold arrowheads
%%%            auto, thick},
%%% }
\begin{tikzpicture}
   

\draw[|->] (0,0) -- (5,0) node[anchor=west] {$t$};

% Estados
\node[state,fill=HotPink3!20] (current)
    at (0,1.3) {$i=3$};
\node[dashed,state,fill=DodgerBlue4!20] (arrive)
    at (2,2) {$i=4$};
\node[dashed,state,fill=DodgerBlue1!20] (exit)
    at (4,2) {$i=2$};

% Posibles eventos
\draw[thick,dashed,<-] (2,0) to (arrive.south);
\draw[thick,dashed,->] (4,0) to (exit.south);

% Tiempos hasta eventos
\draw[|-|,thick,gray,DodgerBlue4] (0,0.2) -- node[pos=.5,fill=white,inner sep=0] {$t_l$} (1.95,0.2);
\draw[|-|,thick,gray,DodgerBlue1] (0,0.5) -- node[pos=.8,fill=white,inner sep=0] {$t_s$} (3.95,0.5);

\node (legend) at (3,3) 
    {\tiny posibles transiciones};
\draw[->] (legend.east)
    to[out=0,in=90] (exit.north);
\draw[->] (legend.west) 
    to[out=180,in=90] (arrive.north);
    
\end{tikzpicture}
